Index: app/src/main/res/layout/fragment_beranda.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".fragment.beranda.BerandaFragment\">\r\n\r\n    <ScrollView\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"1.0\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintVertical_bias=\"0.0\">\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\"\r\n            android:orientation=\"vertical\">\r\n\r\n            <androidx.constraintlayout.widget.ConstraintLayout\r\n                android:id=\"@+id/bg_panti\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"175dp\"\r\n                android:background=\"@drawable/bgdonasi\">\r\n\r\n                <androidx.constraintlayout.widget.ConstraintLayout\r\n                    android:layout_width=\"350dp\"\r\n                    android:layout_height=\"85dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:background=\"@drawable/button\"\r\n                    app:layout_constraintBottom_toBottomOf=\"@+id/bg_panti\"\r\n                    app:layout_constraintEnd_toEndOf=\"@+id/bg_panti\"\r\n                    app:layout_constraintStart_toStartOf=\"@+id/bg_panti\"\r\n                    app:layout_constraintTop_toTopOf=\"@+id/bg_panti\">\r\n\r\n                    <TextView\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginTop=\"10dp\"\r\n                        android:fontFamily=\"@font/poppins_bold\"\r\n                        android:text=\"TOTAL DANA DONASI :\"\r\n                        android:textColor=\"@color/black\"\r\n                        android:textSize=\"20sp\"\r\n                        app:layout_constraintEnd_toEndOf=\"parent\"\r\n                        app:layout_constraintStart_toStartOf=\"parent\"\r\n                        app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/totaldonasi\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:fontFamily=\"@font/poppins_light\"\r\n                        android:text=\"RP.1.000.000.00\"\r\n                        android:textColor=\"@color/black\"\r\n                        android:textSize=\"32sp\"\r\n                        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                        app:layout_constraintEnd_toEndOf=\"parent\"\r\n                        app:layout_constraintStart_toStartOf=\"parent\" />\r\n\r\n                </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n            </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\"\r\n                android:orientation=\"vertical\">\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:layout_marginTop=\"5dp\"\r\n                    android:orientation=\"horizontal\">\r\n\r\n                <androidx.cardview.widget.CardView\r\n                    android:layout_width=\"90dp\"\r\n                    android:layout_height=\"113dp\"\r\n                    android:layout_margin=\"5dp\">\r\n\r\n                    <androidx.constraintlayout.widget.ConstraintLayout\r\n                        android:layout_width=\"86dp\"\r\n                        android:layout_height=\"109dp\"\r\n                        android:background=\"@drawable/button\">\r\n\r\n                        <ImageView\r\n                            android:layout_width=\"81dp\"\r\n                            android:layout_height=\"98dp\"\r\n                            android:background=\"@drawable/icon_donasi\"\r\n                            app:layout_constraintTop_toTopOf=\"parent\"\r\n                            app:layout_constraintStart_toStartOf=\"parent\"\r\n                            app:layout_constraintEnd_toEndOf=\"parent\"\r\n                            app:layout_constraintBottom_toBottomOf=\"parent\"/>\r\n\r\n                    </androidx.constraintlayout.widget.ConstraintLayout>\r\n                </androidx.cardview.widget.CardView>\r\n\r\n                <androidx.cardview.widget.CardView\r\n                    android:layout_width=\"90dp\"\r\n                    android:layout_height=\"113dp\"\r\n                    android:layout_margin=\"5dp\">\r\n\r\n                    <androidx.constraintlayout.widget.ConstraintLayout\r\n                        android:layout_width=\"86dp\"\r\n                        android:layout_height=\"109dp\"\r\n                        android:background=\"@drawable/button\">\r\n\r\n                        <ImageView\r\n                            android:id=\"@+id/btnanak\"\r\n                            android:layout_width=\"81dp\"\r\n                            android:layout_height=\"98dp\"\r\n                            android:background=\"@drawable/icon_anak_asuh\"\r\n                            app:layout_constraintTop_toTopOf=\"parent\"\r\n                            app:layout_constraintStart_toStartOf=\"parent\"\r\n                            app:layout_constraintEnd_toEndOf=\"parent\"\r\n                            app:layout_constraintBottom_toBottomOf=\"parent\"/>\r\n\r\n                    </androidx.constraintlayout.widget.ConstraintLayout>\r\n                </androidx.cardview.widget.CardView>\r\n\r\n                <androidx.cardview.widget.CardView\r\n                    android:layout_width=\"90dp\"\r\n                    android:layout_height=\"113dp\"\r\n                    android:layout_margin=\"5dp\">\r\n\r\n                    <androidx.constraintlayout.widget.ConstraintLayout\r\n                        android:layout_width=\"86dp\"\r\n                        android:layout_height=\"109dp\"\r\n                        android:background=\"@drawable/button\">\r\n\r\n                        <ImageView\r\n                            android:id=\"@+id/btnalokasi\"\r\n                            android:layout_width=\"81dp\"\r\n                            android:layout_height=\"98dp\"\r\n                            android:background=\"@drawable/icon_website\"\r\n                            app:layout_constraintTop_toTopOf=\"parent\"\r\n                            app:layout_constraintStart_toStartOf=\"parent\"\r\n                            app:layout_constraintEnd_toEndOf=\"parent\"\r\n                            app:layout_constraintBottom_toBottomOf=\"parent\"/>\r\n\r\n                    </androidx.constraintlayout.widget.ConstraintLayout>\r\n                </androidx.cardview.widget.CardView>\r\n\r\n                <androidx.cardview.widget.CardView\r\n                    android:layout_width=\"90dp\"\r\n                    android:layout_height=\"113dp\"\r\n                    android:layout_margin=\"5dp\">\r\n\r\n                    <androidx.constraintlayout.widget.ConstraintLayout\r\n                        android:layout_width=\"86dp\"\r\n                        android:layout_height=\"109dp\"\r\n                        android:background=\"@drawable/button\">\r\n\r\n                        <ImageView\r\n                            android:id=\"@+id/btnprogram\"\r\n                            android:layout_width=\"81dp\"\r\n                            android:layout_height=\"98dp\"\r\n                            android:background=\"@drawable/icon_program\"\r\n                            app:layout_constraintTop_toTopOf=\"parent\"\r\n                            app:layout_constraintStart_toStartOf=\"parent\"\r\n                            app:layout_constraintEnd_toEndOf=\"parent\"\r\n                            app:layout_constraintBottom_toBottomOf=\"parent\"/>\r\n\r\n                    </androidx.constraintlayout.widget.ConstraintLayout>\r\n                </androidx.cardview.widget.CardView>\r\n                </LinearLayout>\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_gravity=\"start\"\r\n                    android:layout_marginStart=\"5dp\"\r\n                    android:orientation=\"horizontal\">\r\n\r\n                    <androidx.cardview.widget.CardView\r\n                        android:layout_width=\"90dp\"\r\n                        android:layout_height=\"113dp\"\r\n                        android:layout_margin=\"5dp\">\r\n\r\n                        <androidx.constraintlayout.widget.ConstraintLayout\r\n                            android:layout_width=\"86dp\"\r\n                            android:layout_height=\"109dp\"\r\n                            android:background=\"@drawable/button\">\r\n\r\n                            <ImageView\r\n                                android:id=\"@+id/btnacara\"\r\n                                android:layout_width=\"81dp\"\r\n                                android:layout_height=\"98dp\"\r\n                                android:background=\"@drawable/icon_acara\"\r\n                                app:layout_constraintTop_toTopOf=\"parent\"\r\n                                app:layout_constraintStart_toStartOf=\"parent\"\r\n                                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                                app:layout_constraintBottom_toBottomOf=\"parent\"/>\r\n\r\n                        </androidx.constraintlayout.widget.ConstraintLayout>\r\n                    </androidx.cardview.widget.CardView>\r\n\r\n                    <androidx.cardview.widget.CardView\r\n                        android:layout_width=\"90dp\"\r\n                        android:layout_height=\"113dp\"\r\n                        android:layout_margin=\"5dp\">\r\n\r\n                        <androidx.constraintlayout.widget.ConstraintLayout\r\n                            android:layout_width=\"86dp\"\r\n                            android:layout_height=\"109dp\"\r\n                            android:background=\"@drawable/button\">\r\n\r\n                            <ImageView\r\n                                android:id=\"@+id/btnwebsite\"\r\n                                android:layout_width=\"81dp\"\r\n                                android:layout_height=\"98dp\"\r\n                                android:background=\"@drawable/icon_alokasi_dana\"\r\n                                app:layout_constraintTop_toTopOf=\"parent\"\r\n                                app:layout_constraintStart_toStartOf=\"parent\"\r\n                                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                                app:layout_constraintBottom_toBottomOf=\"parent\"/>\r\n\r\n                        </androidx.constraintlayout.widget.ConstraintLayout>\r\n                    </androidx.cardview.widget.CardView>\r\n\r\n                    <androidx.cardview.widget.CardView\r\n                        android:layout_width=\"90dp\"\r\n                        android:layout_height=\"113dp\"\r\n                        android:layout_margin=\"5dp\">\r\n\r\n                        <androidx.constraintlayout.widget.ConstraintLayout\r\n                            android:layout_width=\"86dp\"\r\n                            android:layout_height=\"109dp\"\r\n                            android:background=\"@drawable/button\">\r\n\r\n                            <ImageView\r\n                                android:id=\"@+id/btnvideo\"\r\n                                android:layout_width=\"81dp\"\r\n                                android:layout_height=\"98dp\"\r\n                                android:background=\"@drawable/icon_video\"\r\n                                app:layout_constraintTop_toTopOf=\"parent\"\r\n                                app:layout_constraintStart_toStartOf=\"parent\"\r\n                                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                                app:layout_constraintBottom_toBottomOf=\"parent\"/>\r\n\r\n                        </androidx.constraintlayout.widget.ConstraintLayout>\r\n                    </androidx.cardview.widget.CardView>\r\n\r\n                </LinearLayout>\r\n\r\n            </LinearLayout>\r\n\r\n            <androidx.constraintlayout.widget.ConstraintLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"40dp\">\r\n\r\n                <TextView\r\n                    android:id=\"@+id/textView2\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginStart=\"10dp\"\r\n                    android:fontFamily=\"@font/poppins_bold\"\r\n                    android:text=\"Rekomendasi Video Kajian\"\r\n                    android:textColor=\"@color/black\"\r\n                    android:textSize=\"20sp\"\r\n                    app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                    app:layout_constraintStart_toStartOf=\"parent\"\r\n                    app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n\r\n                <androidx.constraintlayout.widget.ConstraintLayout\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:background=\"@drawable/button2\"\r\n                    android:backgroundTint=\"@color/green\"\r\n                    android:layout_marginEnd=\"8dp\"\r\n                    app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                    app:layout_constraintTop_toTopOf=\"parent\"\r\n                    app:layout_constraintEnd_toEndOf=\"parent\">\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/btnyt\"\r\n                        android:layout_width=\"100dp\"\r\n                        android:layout_height=\"20dp\"\r\n                        android:fontFamily=\"@font/poppins_bold\"\r\n                        android:text=\"Lihat Semua\"\r\n                        android:textColor=\"@color/white\"\r\n                        android:textSize=\"12sp\"\r\n                        android:textAlignment=\"center\"\r\n                        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                        app:layout_constraintEnd_toEndOf=\"parent\"\r\n                        app:layout_constraintStart_toStartOf=\"parent\"\r\n                        app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n                </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n            </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\">\r\n\r\n                <VideoView\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\">\r\n\r\n                </VideoView>\r\n            </LinearLayout>\r\n\r\n            <com.pierfrancescosoffritti.androidyoutubeplayer.core.player.views.YouTubePlayerView\r\n                android:id=\"@+id/ytkajian\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:paddingLeft=\"10dp\"\r\n                android:paddingRight=\"10dp\"\r\n                app:videoId=\"3LcgoT8kez4\"\r\n                app:autoPlay=\"false\" />\r\n\r\n            <com.pierfrancescosoffritti.androidyoutubeplayer.core.player.views.YouTubePlayerView\r\n                android:id=\"@+id/ytnuha\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:padding=\"10dp\"\r\n                app:videoId=\"diM6jvYXELQ\"\r\n                app:autoPlay=\"false\">\r\n\r\n            </com.pierfrancescosoffritti.androidyoutubeplayer.core.player.views.YouTubePlayerView>\r\n        </LinearLayout>\r\n\r\n    </ScrollView>\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/fragment_beranda.xml b/app/src/main/res/layout/fragment_beranda.xml
--- a/app/src/main/res/layout/fragment_beranda.xml	(revision f07977167503d184ee61319b450dde0c23a6e5ac)
+++ b/app/src/main/res/layout/fragment_beranda.xml	(date 1701222968429)
@@ -1,5 +1,5 @@
 <?xml version="1.0" encoding="utf-8"?>
-<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:app="http://schemas.android.com/apk/res-auto"
     xmlns:tools="http://schemas.android.com/tools"
     android:layout_width="match_parent"
@@ -259,7 +259,7 @@
                     android:layout_height="wrap_content"
                     android:layout_marginStart="10dp"
                     android:fontFamily="@font/poppins_bold"
-                    android:text="Rekomendasi Video Kajian"
+                    android:text="Rekomendasi Video"
                     android:textColor="@color/black"
                     android:textSize="20sp"
                     app:layout_constraintBottom_toBottomOf="parent"
@@ -295,17 +295,6 @@
 
             </androidx.constraintlayout.widget.ConstraintLayout>
 
-            <LinearLayout
-                android:layout_width="match_parent"
-                android:layout_height="wrap_content">
-
-                <VideoView
-                    android:layout_width="wrap_content"
-                    android:layout_height="wrap_content">
-
-                </VideoView>
-            </LinearLayout>
-
             <com.pierfrancescosoffritti.androidyoutubeplayer.core.player.views.YouTubePlayerView
                 android:id="@+id/ytkajian"
                 android:layout_width="match_parent"
@@ -327,4 +316,4 @@
         </LinearLayout>
 
     </ScrollView>
-</androidx.constraintlayout.widget.ConstraintLayout>
\ No newline at end of file
+</LinearLayout>
\ No newline at end of file
Index: app/src/main/java/com/example/nh_care/activity/acara/AcaraActivity.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.nh_care.activity.acara\r\n\r\nimport android.os.Bundle\r\nimport android.view.View\r\nimport android.widget.CalendarView\r\nimport android.widget.Toast\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport androidx.recyclerview.widget.LinearLayoutManager\r\nimport androidx.recyclerview.widget.RecyclerView\r\nimport com.android.volley.Request\r\nimport com.android.volley.toolbox.JsonArrayRequest\r\nimport com.android.volley.toolbox.Volley\r\nimport com.example.nh_care.database.DbContract\r\nimport com.example.nh_care.databinding.ActivityAcaraBinding\r\nimport org.json.JSONArray\r\nimport org.json.JSONException\r\nimport java.text.SimpleDateFormat\r\nimport java.util.*\r\n\r\nclass AcaraActivity : AppCompatActivity() {\r\n\r\n    private lateinit var binding: ActivityAcaraBinding\r\n    private lateinit var recyclerView: RecyclerView\r\n    private lateinit var acaraAdapter: AcaraAdapter\r\n    private val acaraList = mutableListOf<DataAcara>()\r\n    private val dateFormat = SimpleDateFormat(\"yyyy-MM-dd\", Locale.getDefault())\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        binding = ActivityAcaraBinding.inflate(layoutInflater)\r\n        setContentView(binding.root)\r\n\r\n        recyclerView = binding.rvAcara\r\n        recyclerView.layoutManager = LinearLayoutManager(this)\r\n        acaraAdapter = AcaraAdapter(acaraList)\r\n        recyclerView.adapter = acaraAdapter\r\n\r\n        val calendarView: CalendarView = binding.calendarView\r\n\r\n        calendarView.setOnDateChangeListener { _, year, month, dayOfMonth ->\r\n            val selectedDate = Calendar.getInstance()\r\n            selectedDate.set(year, month, dayOfMonth)\r\n            fetchDataForDate(selectedDate)\r\n        }\r\n\r\n        // Set the current date as the default selected date\r\n        val currentDate = Calendar.getInstance()\r\n        calendarView.date = currentDate.timeInMillis\r\n\r\n        // Fetch data for the current date initially\r\n        fetchDataForDate(currentDate)\r\n    }\r\n\r\n    private fun fetchDataForDate(selectedDate: Calendar) {\r\n        val formattedDate = dateFormat.format(selectedDate.time)\r\n        val urlDataAcara = \"${DbContract.urlAcara}?tanggal_acara=$formattedDate\"\r\n        val jsonArrayRequest = JsonArrayRequest(\r\n            Request.Method.GET, urlDataAcara, null,\r\n            { response ->\r\n                try {\r\n                    val fetchedAcaraList = parseAcara(response)\r\n                    acaraAdapter.setAcara(fetchedAcaraList)\r\n                    acaraAdapter.filterByDate(selectedDate)\r\n                } catch (e: JSONException) {\r\n                    e.printStackTrace()\r\n                }\r\n            },\r\n            { error ->\r\n                Toast.makeText(this, \"Error: ${error.message}\", Toast.LENGTH_SHORT).show()\r\n            })\r\n\r\n        Volley.newRequestQueue(this).add(jsonArrayRequest)\r\n    }\r\n\r\n    private fun parseAcara(jsonArray: JSONArray): List<DataAcara> {\r\n        val acara = mutableListOf<DataAcara>()\r\n\r\n        for (i in 0 until jsonArray.length()) {\r\n            try {\r\n                val acaraObject = jsonArray.getJSONObject(i)\r\n\r\n                val judul = acaraObject.getString(\"judul\")\r\n                val deskripsi = acaraObject.getString(\"deskripsi\")\r\n                val tanggalString = acaraObject.getString(\"tanggal_acara\")\r\n\r\n                val sdf = SimpleDateFormat(\"yyyy-MM-dd\", Locale.getDefault())\r\n                val tanggal = sdf.parse(tanggalString)\r\n\r\n                if (tanggal != null) {\r\n                    val calendar = Calendar.getInstance()\r\n                    calendar.time = tanggal\r\n                    val acaraModel = DataAcara(judul, deskripsi, calendar)\r\n                    acara.add(acaraModel)\r\n                }\r\n            } catch (e: JSONException) {\r\n                e.printStackTrace()\r\n            }\r\n        }\r\n\r\n        return acara\r\n    }\r\n}\r\n\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/nh_care/activity/acara/AcaraActivity.kt b/app/src/main/java/com/example/nh_care/activity/acara/AcaraActivity.kt
--- a/app/src/main/java/com/example/nh_care/activity/acara/AcaraActivity.kt	(revision f07977167503d184ee61319b450dde0c23a6e5ac)
+++ b/app/src/main/java/com/example/nh_care/activity/acara/AcaraActivity.kt	(date 1701222091428)
@@ -1,7 +1,9 @@
 package com.example.nh_care.activity.acara
 
+import android.content.Intent
 import android.os.Bundle
 import android.view.View
+import android.widget.Button
 import android.widget.CalendarView
 import android.widget.Toast
 import androidx.appcompat.app.AppCompatActivity
@@ -10,6 +12,9 @@
 import com.android.volley.Request
 import com.android.volley.toolbox.JsonArrayRequest
 import com.android.volley.toolbox.Volley
+import com.example.nh_care.R
+import com.example.nh_care.activity.MainActivity
+import com.example.nh_care.activity.video.VideoActivity
 import com.example.nh_care.database.DbContract
 import com.example.nh_care.databinding.ActivityAcaraBinding
 import org.json.JSONArray
Index: app/src/main/java/com/example/nh_care/activity/alokasi/AlokasiActivity.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.nh_care.activity.alokasi\r\n\r\nimport android.content.Intent\r\nimport android.os.Bundle\r\nimport android.util.Base64\r\nimport android.util.Log\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport androidx.fragment.app.FragmentManager\r\nimport androidx.fragment.app.FragmentTransaction\r\nimport androidx.recyclerview.widget.LinearLayoutManager\r\nimport androidx.recyclerview.widget.RecyclerView\r\nimport com.android.volley.Request\r\nimport com.android.volley.toolbox.JsonArrayRequest\r\nimport com.android.volley.toolbox.Volley\r\nimport com.example.berandaberanda.activitity.alokasi.AlokasiAdapter\r\nimport com.example.nh_care.R\r\nimport com.example.nh_care.database.DbContract\r\nimport com.example.nh_care.databinding.ActivityAlokasiBinding\r\nimport com.example.nh_care.fragment.beranda.BerandaFragment\r\nimport org.json.JSONArray\r\nimport org.json.JSONException\r\n\r\nclass AlokasiActivity : AppCompatActivity() {\r\n    private lateinit var binding: ActivityAlokasiBinding\r\n    private lateinit var recyclerView: RecyclerView\r\n    private var alokasiAdapter: AlokasiAdapter? = null\r\n    private val alokasiList = ArrayList<Map<String, String>>() // Using Map<String, String> as per the adapter\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        binding = ActivityAlokasiBinding.inflate(layoutInflater)\r\n        setContentView(binding.root)\r\n\r\n        alokasiAdapter = AlokasiAdapter(alokasiList)\r\n        recyclerView = binding.rvAlokasi\r\n\r\n        recyclerView.layoutManager = LinearLayoutManager(this)\r\n        recyclerView.adapter = alokasiAdapter\r\n\r\n        // Set listener to handle item clicks\r\n        alokasiAdapter?.setOnItemClickListener(object : AlokasiAdapter.OnItemClickListener {\r\n            override fun onItemClick(position: Int) {\r\n                val intent = Intent(this@AlokasiActivity, DetailAlokasiActivity::class.java)\r\n                val currentItem = alokasiList[position]\r\n                intent.putExtra(\"judul\", currentItem[\"judul\"])\r\n                intent.putExtra(\"deskripsi\", currentItem[\"deskripsi\"])\r\n                val imageBase64 = currentItem[\"image\"]\r\n                if (!imageBase64.isNullOrBlank()) {\r\n                    val imageBytes = Base64.decode(imageBase64, Base64.DEFAULT)\r\n                    intent.putExtra(\"img_alokasi\", imageBytes)\r\n                }\r\n                startActivity(intent)\r\n            }\r\n        })\r\n\r\n        binding.btnbackalokasi.setOnClickListener {\r\n            val fragmentManager: FragmentManager = supportFragmentManager\r\n            val fragmentTransaction: FragmentTransaction = fragmentManager.beginTransaction()\r\n            val berandaFragment = BerandaFragment()\r\n            fragmentTransaction.replace(R.id.nav_host_fragment_activity_main, berandaFragment)\r\n            fragmentTransaction.commit()\r\n        }\r\n\r\n        // Call the method to fetch data from the local API\r\n        fetchAlokasiDataFromAPI()\r\n    }\r\n\r\n    private fun fetchAlokasiDataFromAPI() {\r\n        val urlDataAlokasi = DbContract.urlAlokasi\r\n\r\n        val jsonArrayRequest = JsonArrayRequest(\r\n            Request.Method.GET, urlDataAlokasi, null,\r\n            { response ->\r\n                try {\r\n                    val fetchedAlokasiList = parseAlokasi(response)\r\n                    alokasiList.clear()\r\n                    alokasiList.addAll(fetchedAlokasiList)\r\n                    alokasiAdapter?.setAlokasi(alokasiList)\r\n                } catch (e: JSONException) {\r\n                    Log.e(\"JSON_ERROR\", \"Error: \" + e.message)\r\n                    e.printStackTrace()\r\n                }\r\n            },\r\n            { error ->\r\n                Log.e(\"VOLLEY_ERROR\", \"Error: \" + error.message)\r\n                error.printStackTrace()\r\n            })\r\n\r\n        Volley.newRequestQueue(this).add(jsonArrayRequest)\r\n    }\r\n\r\n    private fun parseAlokasi(jsonArray: JSONArray): List<Map<String, String>> {\r\n        val alokasik = mutableListOf<Map<String, String>>()\r\n\r\n        for (i in 0 until jsonArray.length()) {\r\n            val alokasiObject = jsonArray.getJSONObject(i)\r\n\r\n            val judul = alokasiObject.getString(\"judul\")\r\n            val deskripsi = alokasiObject.getString(\"deskripsi\")\r\n            val imageAlokasiBase64 = alokasiObject.getString(\"img_alokasi\")\r\n\r\n            val alokasi = mapOf(\r\n                \"judul\" to judul,\r\n                \"deskripsi\" to deskripsi,\r\n                \"image\" to imageAlokasiBase64\r\n            )\r\n            alokasik.add(alokasi)\r\n        }\r\n\r\n        return alokasik\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/nh_care/activity/alokasi/AlokasiActivity.kt b/app/src/main/java/com/example/nh_care/activity/alokasi/AlokasiActivity.kt
--- a/app/src/main/java/com/example/nh_care/activity/alokasi/AlokasiActivity.kt	(revision f07977167503d184ee61319b450dde0c23a6e5ac)
+++ b/app/src/main/java/com/example/nh_care/activity/alokasi/AlokasiActivity.kt	(date 1701221741460)
@@ -54,12 +54,6 @@
         })
 
         binding.btnbackalokasi.setOnClickListener {
-            val fragmentManager: FragmentManager = supportFragmentManager
-            val fragmentTransaction: FragmentTransaction = fragmentManager.beginTransaction()
-            val berandaFragment = BerandaFragment()
-            fragmentTransaction.replace(R.id.nav_host_fragment_activity_main, berandaFragment)
-            fragmentTransaction.commit()
-        }
 
         // Call the method to fetch data from the local API
         fetchAlokasiDataFromAPI()
